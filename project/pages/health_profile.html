<!--
  Health Profile Page
  - Collects user health and lifestyle information for personalized nutrition plans
  - Multi-step form with progress bar
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta and Title -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Your Health Profile - HealthMantra</title>
    <!-- Stylesheets -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/auth.css">
    <link rel="stylesheet" href="../css/health_profile.css">
    <!-- Font Awesome and Google Fonts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header Section: Navigation and Logo -->
    <header id="header">
        <div class="container">
            <div class="logo">
                <!-- Logo and Home Link -->
                <a href="../index.html">
                    <h1><i class="fas fa-leaf"></i> HealthMantra</h1>
                </a>
            </div>
            <nav>
                <!-- Main Navigation Links -->
                <ul class="nav-links">
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="supplements.html">Supplements</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
            <div class="auth-buttons">
                <!-- Account Button -->
                <a href="dashboard.html" class="btn btn-primary">My Account</a>
            </div>
            <div class="menu-toggle">
                <!-- Mobile Menu Icon -->
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>

    <!-- Main Profile Form Container -->
    <div class="profile-container">
        <div class="profile-card">
            <!-- Profile Header: Title, Description, Progress Bar, Steps -->
            <div class="profile-header">
                <h2>Complete Your Health Profile</h2>
                <p>We need some information to create your personalized nutrition plan</p>
                <div class="progress-bar">
                    <div class="progress" style="width: 0%"></div>
                </div>
                <div class="progress-steps">
                    <!-- Step Indicators -->
                    <div class="step active" data-step="1">
                        <div class="step-number">1</div>
                        <div class="step-label">Basic Info</div>
                    </div>
                    <div class="step" data-step="2">
                        <div class="step-number">2</div>
                        <div class="step-label">Health Data</div>
                    </div>
                    <div class="step" data-step="3">
                        <div class="step-number">3</div>
                        <div class="step-label">Diet & Goals</div>
                    </div>
                    <div class="step" data-step="4">
                        <div class="step-number">4</div>
                        <div class="step-label">Finish</div>
                    </div>
                </div>
            </div>
            
            <!-- Multi-Step Form Starts Here -->
            <form action="../php/save_health_profile.php" method="POST" id="health-profile-form">
                <!-- Step 1: Basic Information -->
                <div class="form-step active" data-step="1">
                    <h3>Basic Information</h3>
                    
                    <!-- Date of Birth Field -->
                    <div class="form-group">
                        <label for="birth-date" class="form-label">Date of Birth</label>
                        <div class="input-with-icon">
                            <i class="fas fa-calendar"></i>
                            <input type="date" id="birth-date" name="birth_date" class="form-control" required>
                        </div>
                    </div>
                    
                    <!-- Gender Field (Radio Buttons) -->
                    <div class="form-group">
                        <label class="form-label">Gender</label>
                        <div class="radio-group">
                            <label class="radio-container">
                                <input type="radio" name="gender" value="male" required>
                                <span class="radio-mark"></span>
                                Male
                            </label>
                            <label class="radio-container">
                                <input type="radio" name="gender" value="female">
                                <span class="radio-mark"></span>
                                Female
                            </label>
                            <label class="radio-container">
                                <input type="radio" name="gender" value="other">
                                <span class="radio-mark"></span>
                                Other
                            </label>
                        </div>
                    </div>
                    
                    <!-- Phone Number Field -->
                    <div class="form-group">
                        <label for="phone" class="form-label">Phone Number</label>
                        <div class="input-with-icon">
                            <i class="fas fa-phone"></i>
                            <input type="tel" id="phone" name="phone" class="form-control" placeholder="Your phone number" required>
                        </div>
                    </div>
                    
                    <!-- Address Field -->
                    <div class="form-group">
                        <label for="address" class="form-label">Address</label>
                        <div class="input-with-icon">
                            <i class="fas fa-home"></i>
                            <input type="text" id="address" name="address" class="form-control" placeholder="Your address" required>
                        </div>
                    </div>
                    
                    <!-- Navigation Button for Next Step -->
                    <div class="form-navigation">
                        <button type="button" class="btn btn-primary btn-next">Next Step</button>
                    </div>
                </div>
                
                <!-- Step 2: Health Data -->
                <div class="form-step" data-step="2">
                    <h3>Health Data</h3>
                    
                    <!-- Height and Weight Fields with Units -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="height" class="form-label">Height</label>
                            <div class="input-with-unit">
                                <input type="number" id="height" name="height" class="form-control" placeholder="Height" required>
                                <select name="height_unit" class="unit-select">
                                    <option value="cm">cm</option>
                                    <option value="feet">feet</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="weight" class="form-label">Weight</label>
                            <div class="input-with-unit">
                                <input type="number" id="weight" name="weight" class="form-control" placeholder="Weight" required>
                                <select name="weight_unit" class="unit-select">
                                    <option value="kg">kg</option>
                                    <option value="lb">lb</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Activity Level (Radio Buttons with Icons) -->
                    <div class="form-group">
                        <label class="form-label">Activity Level</label>
                        <div class="activity-selector">
                            <label class="activity-option">
                                <input type="radio" name="activity_level" value="sedentary" required>
                                <div class="activity-card">
                                    <div class="activity-icon">
                                        <i class="fas fa-couch"></i>
                                    </div>
                                    <div class="activity-info">
                                        <h4>Sedentary</h4>
                                        <p>Mostly sitting throughout the day</p>
                                    </div>
                                </div>
                            </label>
                            
                            <label class="activity-option">
                                <input type="radio" name="activity_level" value="light">
                                <div class="activity-card">
                                    <div class="activity-icon">
                                        <i class="fas fa-walking"></i>
                                    </div>
                                    <div class="activity-info">
                                        <h4>Light</h4>
                                        <p>Light exercise 1-3 days a week</p>
                                    </div>
                                </div>
                            </label>
                            
                            <label class="activity-option">
                                <input type="radio" name="activity_level" value="moderate">
                                <div class="activity-card">
                                    <div class="activity-icon">
                                        <i class="fas fa-running"></i>
                                    </div>
                                    <div class="activity-info">
                                        <h4>Moderate</h4>
                                        <p>Moderate exercise 3-5 days a week</p>
                                    </div>
                                </div>
                            </label>
                            
                            <label class="activity-option">
                                <input type="radio" name="activity_level" value="active">
                                <div class="activity-card">
                                    <div class="activity-icon">
                                        <i class="fas fa-dumbbell"></i>
                                    </div>
                                    <div class="activity-info">
                                        <h4>Active</h4>
                                        <p>Intense exercise 5-7 days a week</p>
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Do you have any of these health conditions?</label>
                        <div class="checkbox-grid">
                            <label class="checkbox-container">
                                <input type="checkbox" name="health_condition[]" value="diabetes">
                                <span class="checkmark"></span>
                                Diabetes
                            </label>
                            <label class="checkbox-container">
                                <input type="checkbox" name="health_condition[]" value="hypertension">
                                <span class="checkmark"></span>
                                Hypertension
                            </label>
                            <label class="checkbox-container">
                                <input type="checkbox" name="health_condition[]" value="heart_disease">
                                <span class="checkmark"></span>
                                Heart Disease
                            </label>
                            <label class="checkbox-container">
                                <input type="checkbox" name="health_condition[]" value="thyroid">
                                <span class="checkmark"></span>
                                Thyroid Issues
                            </label>
                            <label class="checkbox-container">
                                <input type="checkbox" name="health_condition[]" value="digestive">
                                <span class="checkmark"></span>
                                Digestive Issues
                            </label>
                            <label class="checkbox-container">
                                <input type="checkbox" name="health_condition[]" value="none">
                                <span class="checkmark"></span>
                                None of the above
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="btn btn-outline btn-prev">Previous</button>
                        <button type="button" class="btn btn-primary btn-next">Next Step</button>
                    </div>
                </div>
                
                <!-- Step 3: Diet & Goals -->
                <div class="form-step" data-step="3">
                    <h3>Diet & Goals</h3>
                    
                    <div class="form-group">
                        <label class="form-label">What is your primary goal?</label>
                        <div class="goal-selector">
                            <label class="goal-option">
                                <input type="radio" name="primary_goal" value="weight_loss" required>
                                <div class="goal-card">
                                    <div class="goal-icon">
                                        <i class="fas fa-weight"></i>
                                    </div>
                                    <div class="goal-info">
                                        <h4>Weight Loss</h4>
                                        <p>Reduce body fat and lose weight</p>
                                    </div>
                                </div>
                            </label>
                            
                            <label class="goal-option">
                                <input type="radio" name="primary_goal" value="muscle_gain">
                                <div class="goal-card">
                                    <div class="goal-icon">
                                        <i class="fas fa-dumbbell"></i>
                                    </div>
                                    <div class="goal-info">
                                        <h4>Muscle Gain</h4>
                                        <p>Build muscle and increase strength</p>
                                    </div>
                                </div>
                            </label>
                            
                            <label class="goal-option">
                                <input type="radio" name="primary_goal" value="general_health">
                                <div class="goal-card">
                                    <div class="goal-icon">
                                        <i class="fas fa-heartbeat"></i>
                                    </div>
                                    <div class="goal-info">
                                        <h4>General Health</h4>
                                        <p>Improve overall health and wellness</p>
                                    </div>
                                </div>
                            </label>
                            
                            <label class="goal-option">
                                <input type="radio" name="primary_goal" value="performance">
                                <div class="goal-card">
                                    <div class="goal-icon">
                                        <i class="fas fa-bolt"></i>
                                    </div>
                                    <div class="goal-info">
                                        <h4>Performance</h4>
                                        <p>Enhance athletic performance</p>
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Dietary Restrictions</label>
                        <div class="checkbox-grid">
                            <label class="checkbox-container">
                                <input type="checkbox" name="dietary_restriction[]" value="vegetarian">
                                <span class="checkmark"></span>
                                Vegetarian
                            </label>
                            <label class="checkbox-container">
                                <input type="checkbox" name="dietary_restriction[]" value="vegan">
                                <span class="checkmark"></span>
                                Vegan
                            </label>
                            <label class="checkbox-container">
                                <input type="checkbox" name="dietary_restriction[]" value="gluten_free">
                                <span class="checkmark"></span>
                                Gluten-Free
                            </label>
                            <label class="checkbox-container">
                                <input type="checkbox" name="dietary_restriction[]" value="dairy_free">
                                <span class="checkmark"></span>
                                Dairy-Free
                            </label>
                            <label class="checkbox-container">
                                <input type="checkbox" name="dietary_restriction[]" value="nut_free">
                                <span class="checkmark"></span>
                                Nut-Free
                            </label>
                            <label class="checkbox-container">
                                <input type="checkbox" name="dietary_restriction[]" value="none">
                                <span class="checkmark"></span>
                                None
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="allergies" class="form-label">Food Allergies or Intolerances</label>
                        <textarea id="allergies" name="allergies" class="form-control" placeholder="Please list any food allergies or intolerances you have..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="disliked-foods" class="form-label">Foods You Dislike</label>
                        <textarea id="disliked-foods" name="disliked_foods" class="form-control" placeholder="List foods you strongly dislike or prefer to avoid..."></textarea>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="btn btn-outline btn-prev">Previous</button>
                        <button type="button" class="btn btn-primary btn-next">Next Step</button>
                    </div>
                </div>
                
                <!-- Step 4: Finish -->
                <div class="form-step" data-step="4">
                    <div class="completion-message">
                        <div class="completion-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h3>Almost Done!</h3>
                        <p>Thank you for providing your health information. We'll use this to create your personalized nutrition plan.</p>
                        
                        <div class="plan-options">
                            <h4>Choose Your Plan</h4>
                            <p>Select a nutrition plan that best fits your needs</p>
                            
                            <div class="plan-selector">
                                <label class="plan-option">
                                    <input type="radio" name="plan_type" value="basic" required>
                                    <div class="plan-card">
                                        <div class="plan-header">
                                            <h5>Basic Plan</h5>
                                            <div class="plan-price">
                                                <span class="price">Free</span>
                                            </div>
                                        </div>
                                        <div class="plan-features">
                                            <ul>
                                                <li><i class="fas fa-check"></i> General nutrition guidance</li>
                                                <li><i class="fas fa-check"></i> Supplement recommendations</li>
                                                <li><i class="fas fa-check"></i> Basic progress tracking</li>
                                                <li><i class="fas fa-times"></i> No personalized diet plan</li>
                                                <li><i class="fas fa-times"></i> No nutritionist support</li>
                                            </ul>
                                        </div>
                                    </div>
                                </label>
                                
                                <label class="plan-option">
                                    <input type="radio" name="plan_type" value="premium">
                                    <div class="plan-card recommended">
                                        <div class="plan-badge">Recommended</div>
                                        <div class="plan-header">
                                            <h5>Premium Plan</h5>
                                            <div class="plan-price">
                                                <span class="price">$49.99</span>
                                                <span class="period">/month</span>
                                            </div>
                                        </div>
                                        <div class="plan-features">
                                            <ul>
                                                <li><i class="fas fa-check"></i> Personalized diet plan</li>
                                                <li><i class="fas fa-check"></i> Dedicated nutritionist</li>
                                                <li><i class="fas fa-check"></i> Weekly check-ins</li>
                                                <li><i class="fas fa-check"></i> Customized supplement regimen</li>
                                                <li><i class="fas fa-check"></i> Advanced progress tracking</li>
                                            </ul>
                                        </div>
                                    </div>
                                </label>
                                
                                <label class="plan-option">
                                    <input type="radio" name="plan_type" value="elite">
                                    <div class="plan-card">
                                        <div class="plan-header">
                                            <h5>Elite Plan</h5>
                                            <div class="plan-price">
                                                <span class="price">$99.99</span>
                                                <span class="period">/month</span>
                                            </div>
                                        </div>
                                        <div class="plan-features">
                                            <ul>
                                                <li><i class="fas fa-check"></i> Everything in Premium</li>
                                                <li><i class="fas fa-check"></i> Daily nutritionist support</li>
                                                <li><i class="fas fa-check"></i> Meal prep guidance</li>
                                                <li><i class="fas fa-check"></i> Priority lab testing</li>
                                                <li><i class="fas fa-check"></i> Monthly supplement delivery</li>
                                            </ul>
                                        </div>
                                    </div>
                                </label>
                            </div>
                        </div>
                        
                        <div class="terms-agreement">
                            <label class="checkbox-container">
                                <input type="checkbox" name="agree_terms" required>
                                <span class="checkmark"></span>
                                I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="btn btn-outline btn-prev">Previous</button>
                        <button type="submit" class="btn btn-primary">Complete Profile</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <div class="footer-logo">
                        <h2><i class="fas fa-leaf"></i> HealthMantra</h2>
                    </div>
                    <p>Your trusted partner for health and nutrition. We provide personalized plans and premium supplements to help you achieve your wellness goals.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="../index.html">Home</a></li>
                        <li><a href="supplements.html">Supplements</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Legal</h3>
                    <ul>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms of Service</a></li>
                        <li><a href="#">Cookie Policy</a></li>
                        <li><a href="#">GDPR Compliance</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contact Us</h3>
                    <ul class="contact-info">
                        <li><i class="fas fa-map-marker-alt"></i> 123 Health Street, Wellness City, WC 12345</li>
                        <li><i class="fas fa-phone-alt"></i> (123) 456-7890</li>
                        <li><i class="fas fa-envelope"></i> info@healthmantra.com</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 HealthMantra. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Custom Modal Popup -->
    <div id="customModal" class="modal" style="display:none;">
      <div class="modal-content">
        <span class="close-btn" onclick="closeModal()">&times;</span>
        <p id="modalMessage"></p>
      </div>
    </div>

    <style>
    .modal {
      display: none; 
      position: fixed; 
      z-index: 9999; 
      left: 0; top: 0; width: 100%; height: 100%;
      overflow: auto; background-color: rgba(0,0,0,0.4);
    }
    .modal-content {
      background-color: #fff; margin: 15% auto; padding: 20px;
      border: 1px solid #888; width: 300px; border-radius: 8px;
      text-align: center;
    }
    .close-btn {
      color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer;
    }
    .close-btn:hover { color: #000; }
    </style>

    <script>
    function showModal(message) {
      document.getElementById('modalMessage').innerText = message;
      document.getElementById('customModal').style.display = 'block';
    }
    function closeModal() {
      document.getElementById('customModal').style.display = 'none';
    }
    window.onclick = function(event) {
      var modal = document.getElementById('customModal');
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }

    // Example client-side validation for the health profile form
    document.getElementById('health-profile-form').addEventListener('submit', function(e) {
      // Example: check if all required fields in the last step are filled
      var requiredFields = document.querySelectorAll('.form-step.active [required]');
      for (var i = 0; i < requiredFields.length; i++) {
        if (!requiredFields[i].value || (requiredFields[i].type === "checkbox" && !requiredFields[i].checked)) {
          e.preventDefault();
          showModal("Please fill in all required fields before proceeding.");
          return false;
        }
      }
      // You can add more specific validation as needed
    });
    </script>

    <script src="../js/main.js"></script>
    <script src="../js/health_profile.js"></script>
</body>
</html>